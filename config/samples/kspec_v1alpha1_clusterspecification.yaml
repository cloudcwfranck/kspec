apiVersion: kspec.io/v1alpha1
kind: ClusterSpecification
metadata:
  name: clusterspecification-sample
spec:
  # Kubernetes version requirements (both minVersion and maxVersion are required by CRD)
  kubernetes:
    minVersion: "1.24.0"
    maxVersion: "1.31.0"

  # Pod Security Standards enforcement
  podSecurity:
    enforce: baseline
    audit: baseline
    warn: baseline

  # Network policy requirements
  network:
    requireNetworkPolicies: false
    defaultDenyIngress: false
    defaultDenyEgress: false

  # Workload security requirements
  workloads:
    containers:
      required:
        - key: securityContext.runAsNonRoot
          value: "true"
        - key: securityContext.allowPrivilegeEscalation
          value: "false"

  # RBAC security requirements
  rbac:
    disallowDefaultServiceAccountTokens: false
    disallowClusterAdminBindings: false
